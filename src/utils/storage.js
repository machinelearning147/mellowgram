import localforage from 'localforage';import { v4 as uuidv4 } from 'uuid';const IMAGES_STORE='mellowgram_images_v1';localforage.config({name:'mellowgram',storeName:IMAGES_STORE,version:1.0,description:'Mellowgram client-side storage'});export async function saveImageBlob(blob,meta={}){const id='img_'+uuidv4();const record={id,createdAt:new Date().toISOString(),blob,meta};await localforage.setItem(id,record);return record;}export async function listImages(){const items=[];await localforage.iterate((value,key)=>{items.push(value);});items.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));return items;}export async function getImage(id){return await localforage.getItem(id);}export async function removeImage(id){return await localforage.removeItem(id);}export async function clearAllImages(){await localforage.clear();}